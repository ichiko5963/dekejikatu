# デジリュー自動化プレイブック

各チャンネルでデジリューがどんな振る舞いをするのかをまとめました。  
Slack 版リュークルのテンションを踏襲しつつ、Discord に合わせて調整しています。

---

## #😍自己紹介 — 4日ごとの巡回サマリー
- **実行タイミング**: 4日に1回 / 15:00 JST
- **ロジック**: 直近4日間のメッセージを収集し、ユーザーごとに抜粋して掲示
- **メッセージ例**
  ```
  デジリューの自己紹介パトロールだぞ！10/24〜10/28のニューフェイスをまとめたぜ🔥
  - @Alice さん：生成AIで勉強ノートをまとめるのがマイブームだってさ。気軽に話しかけてくれよな！
  - @Bob さん：地方学生向けにイベントを企画中。仲間を募集中だぞ！

  仲良くなるチャンスを逃すなよ！気になった子にはスレッドで声をかけてみてくれ！
  ```
- **カスタマイズ**: `config.json` の `self_intro` チャンネル ID と `DEJIRYU_DISCORD/dejiryu_bot.py` 内の文面

## #📝最新情報 — AIニュース朝刊
- **実行タイミング**: 毎日 07:00 JST
- **データソース**: NewsAPI.org (`NEWS_API_KEY` が未設定なら投稿スキップ)
- **メッセージ例**
  ```
  おはデジー！10月28日のAIトピックをお届けだぞ☀️🤖
  朝のアウトプットに使ってくれよな！

  - **OpenAI、Education向けChatGPTを正式リリース**
    学校向けの管理ツールが追加。授業にAIを導入しやすくなった状況だぞ。
    https://example.com/article

  - **Stable Diffusion 4.0のティザーが公開**
    低コストで動く軽量版が開発中らしい。デジリューも期待してるぞ！
  ```
- **カスタマイズ**: `config.json` の `ai_news` ブロックでキーワードや件数を調整

## #交流会 — 週次リアクションランキング
- **実行タイミング**: 週1回 / 10:00 JST
- **計測方法**: `on_raw_reaction_add/remove` でリアクション増減をカウント
- **メッセージ例**
  ```
  デジリューの交流会ランキング発表！ (10/21〜10/27)
  リアクション王は誰だ！？
  1. @Alice：58リアクション
  2. @Bob：41リアクション
  3. @Carol：33リアクション
  今週もデジリューを驚かせるリアクション頼むぞ！🌟
  ```
- **リセット**: 集計済みの週はステートから削除して次週に備える

## #限定コンテンツ — Aircle+ローテーション配信
- **実行タイミング**: 21:00 JST / 指定日数ごと（デフォルト7日）
- **内容**: `config.json` の `exclusive_content.items` を順番に出す
- **メッセージ例**
  ```
  デジリューの極秘コンテンツ搬入だぞ🔥
  **Aircle+ スタートアップパック**
  オンボーディング時に使える Notion テンプレートの詰め合わせだぞ。
  アクセスはこちら👉 https://example.com/pack
  感想や活用例をスレッドで自慢してくれよな！
  ```

## #イベント情報 — 3段階リマインダー
- **登録方法**: イベント投稿時に `!event YYYY-MM-DD HH:MM タイトル` を送信
- **リマインド**: 3日前 / 1日前 / 6時間前の3回
- **メッセージ例**
  ```
  《イベントリマインド》
  「デジカツ11月交流会」まであと 1日 だぞ！
  開始日時：2024-11-02 19:00
  準備は整ってるか？デジリューはテンションMAXで待ってるぞ🔥
  ```
- **補足**: 過ぎたイベントは次回ループで自動的に消える

## #できたを報告する部屋 — 週次まとめ
- **実行タイミング**: 週1回 / 20:00 JST
- **ロジック**: 週間で投稿されたメッセージ ID を保存し、抜粋して紹介
- **メッセージ例**
  ```
  10/21〜10/27の「できた！」報告まとめだぞ💪
  みんなの成長、デジリューがしっかり見届けた！
  - @Alice：ポートフォリオサイトを公開したぞ…！
  - @Bob：英語プレゼン大会で入賞したんだってさ！
  次もド派手な「できた！」を待ってるぞ🔥
  ```

## #相談部屋 — 5日ごとの点検
- **実行タイミング**: 5日に1回 / 12:00 JST
- **メッセージ例**
  ```
  @相談役デジカツ
  デジリューからのおたずねタイム！
  お困りごとはないか？今なら知恵袋モードだぞ。気軽に投げてくれよな！
  ```
- **バリエーション**: `config.json` の `consultation_prompt.message_variations` を編集

---

## 運用TIP
- メッセージの口調を変えたい場合は `dejiryu_bot.py` 内の該当関数を検索して編集
- 週次系タスクは `before_loop` で基準時刻を合わせているので、cron 的なズレを避けられます
- `data/state.json` にはリアクション集計やイベント登録が保存されるため、サーバー移設時はコピーすること

> デジリュー補足: 「文面を調整したくなったら、必ずテストサーバーで叫んでから本番に出してくれよな！」  
